% -*- root: main.tex -*-

\chapter{Complex bordism}


\todo{Write an introduction for me.}


\section{Formal varieties}

Having totally dissected unoriented bordism, we can now turn our attention to other sorts of bordism theories, and there are many available: oriented, $\Spin$, $\String$, complex, \ldots.  We would like to replicate the results above for these other contexts, but we quickly see that only one of the listed bordism theories supports this program.  The space $\RP^\infty = BO(1)$ was a key player in the unoriented bordism story, and the only other bordism theory with a similar ground object is complex bordism, with $\CP^\infty = BU(1)$.  So, we will focus on it.

The content of the first lecture can be replicated essentially \textit{mutatis mutandis}, resulting in the following theorems:
\begin{theorem}
There is a complex $J$--homomorphism \[J_{\C}: BU \to B \GL_1 \S. \qed \]
\end{theorem}

\begin{definition}
The associated Thom spectrum is written ``$MU$'' and called \textit{complex bordism}.  A map $MU \to E$ of ring spectra is said to be a \textit{complex orientation of $E$}.
\end{definition}

\begin{theorem}
For a complex vector bundle $\xi$ on a space $X$ and a complex-oriented ring spectrum $E$, there is a natural equivalence \[E \sm T(\xi) \simeq E \sm \Susp^\infty_+ X. \qed\]
\end{theorem}

\begin{corollary}\label{CPinftyNiceCalculation}
In particular, it follows that $E^* \CP^\infty$ is isomorphic to a one--dimensional power series ring for a complex-oriented ring spectrum $E$. \qed
\end{corollary}

In light of these theorems, it seems prudent to develop some of the theory of formal schemes and formal varieties.



\begin{definition}
Formal affine $n$--space is defined by \[\A^n = \Spf R\llbracket x_1, \ldots, x_n\rrbracket.\]  A \textit{formal affine variety} is a formal scheme $V$ which is (noncanonically) isomorphic to $\A^n$ for some $n$.  The two maps in an isomorphism pair \[V \to \A^n, \quad V \leftarrow \A^n\] are called a coordinate (system) and a parameter (system) respectively.
\end{definition}

Maps between affine $n$--spaces

\begin{definition}
Let $V$ be a formal variety and let $I_V = \A^1(V)$ be the ideal of functions vanishing at the origin.  Then, we define the \textit{cotangent space of $V$} at the origin by \[T^* V = I_V / I_V^2.\]  Similarly, a point $f \in V(R[t] / t^2)$ can be written as $f = f(0) + v(f) t$ where $v(f)$ is determined by the image of $f - f(0)$ in $T^* V$.  Hence, we define the \textit{tangent space of $V$} by \[TV = V(R[t] / t^2) \cong \CatOf{Modules}_R(T^* V, R).\]
\end{definition}

\begin{theorem}
A map $f: V \to W$ of formal varieties is an isomorphism if and only if the induced map $Tf: TV \to TW$ is an isomorphism of $R$--modules.
\end{theorem}
\begin{proof}
This is 3.1.8 in the Crystals notes.
\end{proof}

\begin{remark}
You can get formal varieties by completing varieties.
\end{remark}

\todo{You can also get formal varieties using this detection theorem...}

\begin{theorem}\label{DetectingFormalVarieties}
\todo{I think this theorem is motivated by Artin--Mazur formal groups, and the Crystals notes use it to extract a formal group from a Dieudonn\'e module.  Some motivation could go here.}Let $A$ be a Noetherian ring and $G: \CatOf{AdicAlgebras}_A \to \CatOf{AbelianGroups}$ be a functor such that
\begin{enumerate}
\item $G(A) = 0$.
\item $G$ takes surjective maps to surjective maps.
\item There is a finite, free $A$--module $M$ and a functorial isomorphism \[I \otimes_A M \to G(B) \to G(B')\] whenever $I$ belongs to a square-zero extension of adic $A$--algebras \[I \to B \to B'.\]
\end{enumerate}
Then, $G \cong \A^n$ as a functor to sets, where $n = \dim M$.
\end{theorem}
\begin{proof}
This is 9.6.4 in the Crystals notes.
\end{proof}

\begin{definition}
A formal group is a formal variety endowed with an abelian group structure.\footnote{Formal groups in dimension $1$ are automatically commutative if and only if the ground ring has no elements which are simultaneously nilpotent and torsion.  \textbf{Cite this.}}
\end{definition}

\begin{remark}
\todo{Discuss the connection between formal groups with coordinates and formal group laws.  Introduce FGL notation.}
\end{remark}

\begin{remark}
Formal groups automatically have inverses.
\end{remark}

\begin{remark}
You can get formal groups from completions of algebraic groups.
\end{remark}

Quillen's theorem needs to know that rational formal groups have logarithms.  Now is a good time to prove that?  Or maybe this comes later.  If it comes here, it would be good to give the version that uses the tangent space:
\begin{theorem}
There is a unique isomorphism \[\G \xrightarrow{\log} \operatorname{Lie} \G \otimes \G_a.\]
\end{theorem}

\begin{example}
$\CP^\infty_{H\Z P} \cong \G_a$.  $\CP^\infty_{KU} \cong \G_m$.
\end{example}

\begin{definition}
The module of K\"ahler differentials on a $k$--algebra $R$ is given by \todo{Put formula here.}.
\end{definition}

\begin{lemma}
It's universal for derivations.  It has something to do with cotangent vectors.
\end{lemma}

Sheaves on formal schemes too?





\section{Divisors and divisor schemes}

Today won't really involve any algebraic topology.  Instead, we are going to talk about a certain class of subschemes called ``divisors''.  These play an important role in the theory of complex-oriented cohomology theories, and they're sufficiently complicated that they deserve their own day.  Throughout today, we will have fixed the following three pieces of data:
\begin{itemize}
\item $X$ is our ``base'' formal scheme.
\item $C$ is a formal curve over $X$.
\item $\zeta: X \to C$ is a distinguished point on $C$.
\end{itemize}

First, we owe ourselves a definition of a closed subscheme, which we've somehow avoided up until this point:
\begin{definition}
Let $Y$ be an affine formal scheme, and pick a chart $\Spec R \to Y$.  A subscheme $Z \subseteq Y$ is called \textit{closed} when it has the form
\begin{center}
\begin{tikzcd}
Z \arrow{r} \arrow[-,double,densely dotted]{d} & Y \arrow[-,double]{d} \\
\Spec (R/I) \arrow{r} & \Spec R.
\end{tikzcd}
\end{center}
\end{definition}

There's a dual notion of an open subscheme, which we will continue to avoid for now.  These definitions are both best stated in a coordinate--free way, but the open subscheme version really \emph{requires} it, so we will postpone it until later.\oweproof{Definition of open scheme}\oweproof{Definition of closed subscheme without chart}  For now, this is already enough to get a working definition of a divisor:

\begin{definition}
An \textit{effective Weil divisor} of rank $n$ on $C$ is an $X$--subscheme of $C$ whose ring of functions is rank $n$ as an $\sheaf{O}_X$--module.
\end{definition}

\begin{lemma}
The scheme of such effective Weil divisors of rank $n$ exists: $\Div_n^+ C$.  It is a formal variety of dimension $n$.  In fact, a coordinate $x$ on $C$ determines an isomorphism $\Div_n^+ C \cong \A^n$.\todo{I wonder if it's possible to frame this argument with \Cref{DetectingFormalVarieties}.  The proof given here is Prop 5.2 of FSFG.}
\end{lemma}
\begin{proof}
Begin with the definition \[\Div_n^+(C)(R) = \left\{(a, D) \middle| \begin{array}{c} a: \Spec R \to X, \\ \text{$D$ is an effective divisor on $C \times_X \Spec R$} \end{array} \right\}.\]  To show that it is a formal variety, we pick a coordinate $x$ on $C$ and consider a point $(a, D) \in \Div_n^+(C)(R)$.  In this case, $C \times_X \Spec R$ is presented as \[C \times_X \Spec R = \Spf R\llbracket x \rrbracket\] and hence $D$ can be presented as the closed subscheme \[D = \Spf R\llbracket x \rrbracket / (x^n - g(x)), \quad g(x) = \sum_{j=0}^{n-1} a_j(D) x^j.\]  One checks that $a_j(D)$ is a nilpotent element of $R$ for all $j$, and hence determines a map $\Spec R \to \A^n$.  Conversely, given such a map, we can form the polynomial $g(x)$ and hence the divisor $D$.
\end{proof}

This proof lays bare the moral value of this scheme: it parametrizes collections of points on $C$ which arise as zero loci of polynomials.  It's well-known how basic operations on polynomials affect their zero loci, and these operations are also reflected on the level of divisor schemes.  For instance, there is a unioning map:
\begin{lemma}
There is a map
\begin{align*}
\Div_n^+ C \times_X \Div_m^+ C & \to \Div_{n+m}^+ C, \\
(D_n, D_m) & \mapsto D_n \sqcup D_m. \qed
\end{align*}
\end{lemma}
\begin{remark}\label{DescriptionOfSqCupMapOnPolynomials}
On the level of the polynomials $g_n$, $g_m$, and $g_{n+m}$, this map is given by \[(g_n, g_m) \mapsto x^{n+m} - (x^n - g_n(x)) \cdot (x^m - g_m(x)) =: g_{n+m}(x).\]
\end{remark}

Note that there is a canonical isomorphism $C \to \Div_1^+ C$.  Iterating the above addition map gives the vertical map in the following triangle:
\begin{center}
\begin{tikzcd}
& C^{\times_X n} \arrow{ld} \arrow{d} \\
C^{\times_X n}_{\Sigma_n} \arrow[densely dotted]{r}{\cong} & \Div_n^+ C.
\end{tikzcd}
\end{center}
\begin{lemma}
The object $C^{\times n}_{\Sigma_n}$ exists, it factors the iterated addition map, and the dotted arrow is an isomorphism. 
\end{lemma}
\begin{proof}
The first assertion is a consequence of Newton's theorem on symmetric polynomials: the subring of symmetric polynomials in $R[x_1, \ldots, x_n]$ is itself polynomial on generators \[\sigma_j(x_1, \ldots, x_n) = \sum_{\substack{S \subseteq \{1, \ldots, n\} \\ |S| = j}} x_{S_1} \cdots x_{S_j},\] and hence \[R[\sigma_1, \ldots, \sigma_n] \subseteq R[x_1, \ldots, x_n].\]  Picking a coordinate on $C$ allows us to import this fact into formal geometry to deduce the existence of $C^{\times n}_{\Sigma_n}$.  The factorization then follows by noting that the iterated $\sqcup$ map is symmetric.  Finally, \Cref{DescriptionOfSqCupMapOnPolynomials} shows that the horizontal map pulls the coordinate $a_j$ back to $\sigma_j$, so the third assertion follows.
\end{proof}

\todo[inline]{We could also talk about functoriality for stable divisor schemes. Given a map $q: C \to C'$, we postcompose to get a map $C \to C' \to \Div C'$ and hence an induced free map $q_*: \Div C \to \Div C'$ which acts by $q_*[a] = [q(a)]$.  Also, if $q$ is an \textit{isogeny}, then there is a map $q^*: \Div C' \to \Div C$ given by Cartesian pullback of schemes and using the isogeny condition to guarantee that the pullback scheme still has a good rank over $\sheaf{O}_X$.}

Now we use the pointing $\zeta: X \to C$.  Together with the $\sqcup$ map, this gives a composite
\begin{center}
\begin{tikzcd}
\Div_n^+ C \arrow{r} & C \times_X \Div_n^+ C \arrow{r} & \Div_1^+ C \times_X \Div_n^+ C \arrow{r} & \Div_{n+1}^+ C, \\
D \arrow[|->,r] & (\zeta, D) \arrow[|->,r] & ([\zeta], D) \arrow[|->,r] & {[\zeta] \sqcup D}.
\end{tikzcd}
\end{center}

\begin{definition}
We define the following variants of ``stable divisor schemes'':
\begin{align*}
\Div^+ C & = \coprod_{n \ge 0} \Div_n^+ C, \\
\Div_n C & = \colim \left( \Div_n^+ C \xrightarrow{[\zeta] + -} \Div_{n+1}^+ C \xrightarrow{[\zeta] + -} \cdots \right), \\
\Div C & = \colim \left( \Div^+ C \xrightarrow{[\zeta] + -} \Div^+ C \xrightarrow{[\zeta] + -} \cdots \right) \\
& \cong \coprod_{n \in \Z} \Div_n C.
\end{align*}
\end{definition}

\begin{theorem}
The scheme $\Div^+ C$ models the free formal monoid on the formal curve $C$.  The scheme $\Div C$ models the free formal group on the formal curve $C$.  The scheme $\Div_0 C$ simultaneously models the free formal monoid and the free formal group on the \emph{pointed} formal curve $C$. \qed \todo{Can you at least see where the negation maps would come from w/o reference to coalgebras?}
\end{theorem}
\noindent We will postpone the proof of this theorem until later, once we've developed a theory of coalgebraic formal schemes.\oweproof{The various $\Div$ constructions give free monoids / groups}

We close today by justifying the name ``divisor'' that we've been using.  It means something in algebraic geometry, and it's not immediately clear that we are respecting their language.  Line bundles are the most basic objects in their divisor story.  The data of a line bundle turns out to be equivalent to the data of a certain meromorphic function\todo{How does this comparison work again?} up to suitable equivalence.  From that meromorphic function, one can extract a Weil divisor by considering its loci of zeroes and poles.  In our case of a formal curve $C$, we will show that these data all agree.

\begin{definition}
Let $X$ be a formal scheme and $C$ a formal curve over $X$ with ring of functions $\sheaf{O}_C$.  The ring of meromorphic functions on $C$, $\sheaf{M}_C$, is obtained by inverting all coordinates in $\sheaf{O}_C$.  We then augment this to a scheme $\operatorname{Mer}(C, \mathbb G_m)$ of meromorphic functions on $C$ by \[\operatorname{Mer}(C, \mathbb G_m)(R) := \left\{ (u, f) \middle| \begin{array}{c} u: \Spec R \to X, \\ f \in \sheaf{M}^\times_{C \times_X \Spec R} \end{array} \right\}.\]
\end{definition}

\begin{lemma}\todo{FSFG Lemma 5.23}
Let $x$ be a coordinate on $C$ and let $f(x) = \sum_{k \in \Z} a_k x^k$ be an element of $\sheaf M_C$.  Then $f$ is invertible in $\sheaf M_C$ if and only if the base scheme $X$ can be written as a coproduct $X = \coprod_{k \in \Z} X_k$ where $X_k = \emptyset$ a.e., such that $a_j$ is nilpotent on $X_k$ for $j < k$, and $a_k$ is invertible on $X_k$. \qed
\end{lemma}

\begin{definition}\todo{FSFG Definition 5.24}
Let $x$ be a coordinate on $C$ and let $f$ be an invertible element of $\sheaf M_C$ with associated decomposition $X = \coprod_k X_k$.  If $X = X_k$ we say $f$ has constant degree $k$, and more generally we have a map $X \to \underline{\Z}$ selecting the local degree.
\end{definition}

\begin{lemma}\todo{FSFG Definition 5.25}\todo{This involves Weierstrass.}
Let $x$ be a coordinate on $C$ and let $f$ be an invertible element of $\sheaf M_C$ with constant degree $k$.  Then there is a unique factorization \[f(x) = x^k u(x) g(x)\] for $u(x) \in \sheaf O_C^\times$ and $g(x) = \sum_{j \ge 0} b_j x^{-j}$, $b_0 = 1$, $b_j$ nilpotent for $j > 0$, and $b_j = 0$ for $j \gg 0$. \qed
\end{lemma}

\begin{lemma}
\todo{This is Prop 5.26 in FSFG.}
In the case of a formal curve $C$, there is a short exact sequence of formal groups \[0 \to \underline{\CatOf{FormalSchemes}}(C, \mathbb G_m) \to \operatorname{Mer}(C, \mathbb G_m) \to \Div(C) \to 0.\]
\end{lemma}
\begin{proof}
One first checks that it suffices to invert \emph{any} one coordinate in forming $\sheaf{M}_C$ and the rest automatically become inverted.  The above lemma gives a decomposition \[\operatorname{Mer}(C, \mathbb G_m) \cong \underline{\CatOf{FormalSchemes}}(C, \mathbb G_m) \times \underline{\Z} \times Y,\] where $Y$ selects the series $g$.  For $f(x) \in \sheaf O_{C \times_X \Spec R}$ so that $\sheaf O_{C \times_X \Spec R} / f$ is free of rank $n$ over $R$, we set $\div(f)$ to be the associated divisor, and we extend to fractions by $\div(f/g) = \div(f) - \div(g)$.  This map has kernel $\underline{\CatOf{FormalSchemes}}(C, \mathbb G_m)$.

Now let $j: C \to \Div C$ be the usual inclusion, and for a point $a \in C(R)$ set $\sigma(a) = x - x(a) = x(1 - x(a)/x) \in \operatorname{Mer}(C, \mathbb G_m)(R)$.  This gives a map $\sigma: C \to \operatorname{Mer}(C, \mathbb G_m)$ satisfying $\div \circ \sigma = j$.  There is also an extension \[ \tau: \Div C \to \operatorname{Mer}(C, \mathbb G_m),\] and one checks $\tau \circ j = \sigma$.  It follows that $\div \circ \tau \circ j = j$ and thus $\div \circ \tau = 1$.  So, the sequence is split exact, though the formula for the splitting (and only the splitting) involved the coordinate $x$.
\end{proof}

\todo{This is still missing a little.  Include how you take a meromorphic function and build a line bundle?}







\section{Chern classes and divisor schemes}

Having built up some of the background theory of formal varieties, today we're going to pursue another standard calculation for complex-oriented cohomology theories $E$.  Recall our motivating theorem from last time:
\begin{corollary}[{\Cref{CPinftyNiceCalculation}}]
A complex-oriented ring spectrum $E$ imbues $E^* \CP^\infty$ with an isomorphism to a one--dimensional power series ring. \qed
\end{corollary}

\noindent Recalling $\CP^\infty \simeq BU(1)$, we turn to calculating the $E$--cohomology of the other spaces $BU(n)$ in this sequence.  Since these serve as classifying spaces for complex vector bundles, such a calculation will give us a theory of $E$--characteristic classes for complex vector bundles.

\begin{lemma}\label{ECohomologyOfBUn}
The coset fibration \[U(n-1) \to U(n) \to S^{2n-1}\] deloops to a spherical fibration \[S^{2n-1} \to BU(n-1) \to BU(n).\]  The associated Serre spectral sequence \[E_2^{*, *} = H^*(BU(n); E^* S^{2n-1}) \Rightarrow E^* BU(n-1)\] degenerates at $E_{2n}$ and induces an isomorphism \[E^* BU(n) \cong E^* \llbracket \sigma_1, \ldots, \sigma_n\rrbracket. \qed\]
\end{lemma}

Our goal is to imbue \Cref{ECohomologyOfBUn} with algebro-geometric meaning.  This will come out of investigating a related nest of theorems, generally referred to as ``the splitting principle''.  Considering the following construction:
\begin{definition}
Let $\xi$ be a complex vector bundle of rank $n$ over a base $X$.  Define $\P(xi)$, the \textit{projectivization of $\xi$}, to be the $\CP^{n-1}$--bundle over $X$ whose fiber of $x \in X$ is the space of complex lines in the original fiber $\xi|_x$.\todo{I think another definition of the Thom space is as the cofiber of $\P(V) \to \P(V \oplus \C)$.  This might come in handy.}
\end{definition}

\begin{theorem}\label{CohomologyOfProjectivization}
The $E$--cohomology of $\P(\xi)$ is given by the formula \[E^* \P(\xi) \cong \left. E^*(X) \llbracket x \rrbracket \middle/ c(\xi) \right.\] for a certain monic polynomial \[c(\xi) = x^n - c_1(\xi) x^{n-1} + c_2 x^{n-2} - \cdots + (-1)^n c_n(\xi).\]
\end{theorem}
\begin{proof}
We fit all of the fibrations we have into a single diagram:
\begin{center}
\begin{tikzcd}
& \C^\times \arrow[-,double]{dd} \arrow{rd} \\
\C^n \arrow{dd} & & \C^n \setminus \{0\} \arrow[crossing over]{ll} \arrow{r} \arrow{dd} & \CP^{n-1} \arrow{r} \arrow{dd} & \CP^\infty \arrow[-,double]{dd} \\
& \C^\times \arrow{rd} \\
\xi \arrow{d} & & \xi \setminus \zeta \arrow{ll} \arrow{r} \arrow{d} & \P(\xi) \arrow{r} \arrow{d}{\pi} & \CP^\infty \arrow{d} \\
X \arrow[-,double]{rr} \arrow[bend left, densely dotted]{u}{\zeta} & & X \arrow[-,double]{r} & X \arrow{r} & *.
\end{tikzcd}
\end{center}
We read this diagram as follows: on the far left, there's the vector bundle we began with, as well as its zero-section $\zeta$.  Deleting the zero-section gives the second bundle, a $\C^n \setminus \{0\}$--bundle over $X$.  Its quotient by the scaling $\C^\times$--action gives the third bundle, a $\CP^{n-1}$--bundle over $X$.  Additionally, the quotient map $\C^n \setminus \{0\} \to \CP^{n-1}$ is itself a $\C^\times$--bundle, and this induces the structure of a $\C^\times$--bundle on the quotient map $\xi \setminus \zeta \to \P(\xi)$.  Thinking of these as complex line bundles, they are classified by a map to $\CP^\infty$, which can itself be thought of as the last vertical fibration, fibering over a point.

Note that the map between these two last fibers is surjective on $E$--cohomology.  It follows that the Serre spectral sequence for the third vertical fibration is degenerate, since all the classes in the fiber must survive.\footnote{This is called the Leray--Hirsch theorem.}  We thus conclude that $E^* \P(\xi)$ is a free $E^*(X)$--module on the classes $\{1, x, x^2, \ldots, x^{n-1}\}$ spanning $E^* \CP^{n-1}$.  To understand the ring structure, we need only compute $x^{n-1} \cdot x$, which must be able to be written in terms of the classes which are lower in $x$--degree: \[x^n = c_1(\xi) x^{n-1} - c_2 x^{n-2} + \cdots + (-1)^{n-1} c_n(\xi)\] for some classes $c_i(\xi) \in E^* X$.  The description in the theorem statement follows.\todo{I think we're going to talk about the ring scheme structure on $\Div_*^+ \CP^\infty_E$ much later on. Don't forget about it.}
\end{proof}

We have a pair of obvious corollaries:
\begin{corollary}
The map $E^* X \to E^* \P(\xi)$ is injective. \qed
\end{corollary}
\begin{corollary}
A line bundle canonically splits off of $\pi^*(\xi)$: consider the sub-bundle of vectors $(v, (\ell, x))$ such that $v$ lies along the line $\ell$. \qed
\end{corollary}

\noindent Combining these and iterating gives something much stronger:

\begin{corollary}
Associated to any $n$--dimensional complex vector bundle $\xi$ over a base $X$, there is a canonical map $f_\xi: Y_\xi \to X$ such that $E^* X \to E^* Y$ is injective and there is a canonical splitting into complex line bundles: \[f_\xi^*(\xi) \cong \bigoplus_{i=1}^n \L_i. \qed\]
\end{corollary}

\textbf{JUSTIFY THIS:}
\begin{theorem}
Let $\xi: X \to BU(n)$ classify a vector bundle $\xi$.  Then the coefficient $c_j$ in the polynomial $c(\xi)$ is selected by $\sigma_j$: \[c_j(\xi) = \xi^*(\sigma_j). \qed\]
\end{theorem}

\todo{We need to have talked about closed subschemes by the time we get here.}

We now finally turn to the algebraic geometry.  Our original calculation of $E^* BU(n)$ in \Cref{ECohomologyOfBUn} showed us that any map $\xi: X \to BU(n)$ classifying a rank $n$ complex vector bundle produces a sequence of $n$ distinct $E$--cohomology classes $\xi^*(\sigma_j) \in E^*(X)$.  \Cref{CohomologyOfProjectivization} showed us what these classes were good for: the belong to the coefficients of a monic polynomial used in a quotient construction.  The algebro-geometric name for quotients are closed subschemes, and so we re-interpret \Cref{CohomologyOfProjectivization} as follows:
\begin{corollary}[{\Cref{CohomologyOfProjectivization} redux}]
The map \[P(\xi)_E \to X_E \times \CP^\infty_E\] is a closed inclusion of $X_E$--schemes. \qed
\end{corollary}

We would like to package this information in terms of the map $X_E \to BU(n)_E$.  Recall the following definition:
\begin{definition}
A closed subscheme $D$ of finite rank $d$ of a curve $C$ is called an effective Weil divisor of rank $d$.
\end{definition}
\noindent So, we can think of $P(\xi)_E$ as a divisor of rank $d$ on the formal curve $\CP^\infty_E$, base--changed to $X_E$.  Motivated by this, we define the following scheme:
\begin{definition}
\todo{Define the $\O_D$ notation.} Let $C$ be a formal curve.  Define the scheme $\Div_n^+(C)$ by \[\Div_n^+(C)(T) = \left\{i: D \to C \times T \middle| \begin{array}{c} \text{$i$ is a closed inclusion of $T$--schemes} \\ \text{$\O_D$ is a rank $d$ $\O_T$--module} \end{array}\right\}.\]
\end{definition}
\begin{lemma}
A coordinate $C \cong \A^1$ begets an isomorphism $\Div_n^+(C) \cong \A^n$. \qed
\end{lemma}

The main theorem of this section is then:
\begin{theorem}
For a complex-oriented cohomology theory $E$, there is an isomorphism \[BU(n)_E \cong \A^n \cong \Div_n^+ \CP^\infty_E,\] so that maps $\xi: X \to BU(n)$ are transported to divisors $\P(\xi)_E \subseteq \CP^\infty_E \times X_E$.
\end{theorem}

--- stitch these together ---

\begin{lemma}
The sum map \[BU(n) \times BU(m) \xrightarrow\oplus BU(n+m)\] induces on Chern polynomials the identity \[c(\xi \oplus \zeta) = c(\xi) \cdot c(\zeta).\]  In terms of divisors, \[\P(\xi \oplus \zeta)_E = \P(\xi)_E \sqcup \P(\zeta)_E,\] and hence there is an induced square
\begin{center}
\begin{tikzcd}
BU(n)_E \times BU(m)_E \arrow{r}{\oplus} \arrow[-,double]{d} & BU(n+m) \arrow[-,double]{d} \\
\Div_n^+ \CP^\infty_E \times \Div_m^+ \CP^\infty_E \arrow{r}{\sqcup} & \Div_{n+m}^+ \CP^\infty_E. \qed
\end{tikzcd}
\end{center}
\end{lemma}

\begin{lemma}
The map $Y_E \xrightarrow{f_\xi} X_E$ pulls $\P(\xi)_E$ back to give \[Y_E \times_{X_E} \P(\xi)_E \cong \bigoplus_{i=1}^n \left\{ c_1(\L_i) \right\}. \qed\]
\end{lemma}

--- make a point between complex oriented and complex orientable ---

\begin{theorem}
For $E$ a complex-orientable ring spectrum, there is a natural isomorphism \[BU(n)_E \cong \Div_n^+ \CP^\infty_E. \qed \]
\end{theorem}


\todo{This day should probably have fewer proofs of facts about vector bundles, which will be standard to anyone reading these notes, and more of a discussion about why divisors are called divisors.  Maybe we should even compare Cartier divisors and Weil divisors?  That's discussed in Neil's FPFP paper.}

\todo{A corollary of the splitting principle is supposed to be that a Thom isomorphism for $\CP^\infty$ begets Thom isomorphisms for everything, and hence a ring spectrum map $MU \to E$.  We should produce that corollary here if we can.}

\todo{Proposition 8.31 in FSFG shows that the isomorphism $BU(n)_E \cong \Div_n^+ \CP^\infty_E$ is independent of coordinate. Read it.}








\section{Operations}

Our eventual goal, like last time, is to give an algebro-geometric description of $MU_*(*)$ and of the cooperations $MU_* MU$.  There is such a description that passes through the Adams spectral sequence, also like last time, but $MU_*(*)$ is an integral algebra and so we cannot make do with working out the mod--$2$ Adams spectral sequence.  We would have to at least work out the mod--$p$ Adams spectral sequence for every $p$, but there is the following unfortunate theorem:
\begin{theorem}
There is an isomorphism
\[H\F_pP_0 H\F_pP \cong \F_p[\xi_0^\pm, \xi_1, \xi_2, \ldots] \otimes \Lambda[\tau_0, \tau_1, \ldots]\]
with $|\xi_j| = 2p^j-2$ and $|\tau_j| = 2p^j - 1$. \qed
\end{theorem}
\noindent Because we are no longer working in characteristic $2$ and because there are odd--dimensional classes in this algebra, we see that the dual mod--$p$ Steenrod algebra is \emph{graded-commutative}.  This is the first time we have encountered Hindrance \#\ref{SkewCommutativeDeficiency} from \Cref{TheSteenrodAlgebraSection} in the wild, and for now we will simply avoid these methods and find another approach.

There is such an alternative proof, due to Quillen, that bypasses the Adams spectral sequence.  This approach has some deficiencies of its own: it requires studying the algebra of operations $MU^* MU$, which we do not expect to be at all commutative, and it requires studying \textit{power operations}, which are in general very technical creatures.  However, we will eventually want to talk about power operations anyway, and because this is the road less traveled we will elect to take it.

Our job today is to define these two kinds of cohomology operations, as well as revisit the model of complex cobordism Quillen uses.



give the specific model for complex bordism that Quillen uses.

Landweber--Novikov operations: the reason the ``total Chern class'' looks so unfamiliar is this: $E_* BU$ is polynomial means $E_* MU$ is polynomial, but $E^* BU$ being a nice algebra doesn't really tell you anything about $E^* MU$, since it's no longer an algebra.  so you really need an $E$--module basis of $E^* MU$, and that's what the nasty expansion of the total chern class is doing.

power operations in $MU$--cohomology.

remark that quadratic power operations in ordinary cohomology give the usual Steenrod operations.


-----

when describing Quillen's model, he makes a lot of use of Gysin maps and Thom / Euler classes. at this point, maybe you can introduce what a Thom sheaf / Thom class is for a pointed formal curve.

\begin{definition}
For a divisor $D$ on a curve $C$ over $X$ with pointing $\zeta: X \to C$, set the \textit{Thom sheaf} of $D$ to be the line bundle $L(D) = \zeta^* J(D)$ over $X$, with $J(D)$ the ideal sheaf on $C$ defining $D$.  It satisfies $L(D + D') = L(D) \otimes L(D')$.  If $C$ has a coordinate $x$, then $J(D)$ has a generator $f_D(x)$ and $L(D)$ also has a generator $u_D$, called the \textit{Thom class}.  It satisfies $u_{D + D'} = u_D \otimes u_{D'}$.
\end{definition}






\section{Quillen's theorem I: push-pull formulas}

riemann-roch formulas.  the main relation: the $p$\th cyclic power operation is additive.



\section{Quillen's theorem II: Lazard's theorem}

consequence: the map $L \to MU_*$ surjects

lazard's theorem.

consequence: the subring of coefficients of the formal group law generate.














\section*{Run off}








% divisors and line bundles on $1$--dimensional objects?

poincare duality for manifolds with oriented tangent bundle

wrong-way maps: $\zeta^* \zeta_* 1$ gives the Euler class of the bundle

Explicit Thom isomorphism map for universal cohomology: $\xi: X \to BU(n)$ Thomifies to $T(\xi) \to MU(n) \to MU$, representing a class $g \in MU^* T(\xi)$, and this gives a map
\begin{align*}
MU^*(X) & \to MU^* T(\xi) & \cong MU^*(E, E_0)\\
x & \mapsto & g \smile p^*(x),
\end{align*}
where $p: E \to X$ is the projection and $E_0$ is the image of the zero section.

The first part of Adams's blue book is about the Landweber--Novikov operations.  In particular, he talks about the choice of funny total Chern class, saying that duals to monomials in $H_* BU$ are what span the cohomology of $H^* BU$ and that those are what interact well with the Whitney sum.

The wrong--way maps come from conjugating by Poincar\'e duality: \[E^* X \cong E_{d_X-*} X \to E_{d_X-*} Y \cong E^*{*-d_X+d_Y} Y.\]  Poincar\'e duality comes from asserting that the stable normal bundle is oriented for the theory, and then Atiyah duality says \[D(X_+) \simeq \Susp^{-n} T(\nu) [\simeq T(\nu - n\eps) \simeq T(-\tau)]. \]

---

Here's some old stuff from when I thought it was good to prove the splitting principle for real bundles in the first case study.  This \emph{may} all be needed earlier than this, when we go through a proof of Quillen's theorem on $MU$.  Maybe I'll defer it then too.

---

Our first goal for today is to show the following freeness property of the ring spectrum $MO$:
\begin{theorem}
Let $E$ be a ring spectrum.  Homotopy classes of ring maps $MO \to E$ are in natural bijection with factorizations \[\S \to MO(1) \to E\] of the unit map for $E$. \qed
\end{theorem}

\noindent This proof falls into two halves, and one half is much easier than the other.  The data of a ring map $MO \to E$ appears to be considerly more data than a factorization, and showing that one begets the other turns out to be the easier direction of the proof.  Suppose that we're given such a ring map $MO \to E$, so that we can apply the Thom isomorphism machinery from the beginning of this story.  Then, recall the definition of $MO(1)$ as a Thom spectrum: \[MO(1) = T(\L - 1 \downarrow \RP^\infty).\]  Restricting the base space all the way to a point gives \[T(\L - 1 \downarrow *) = \S,\] and this fits into the following commutative diagram with the ring map we were given:
\begin{center}
\begin{tikzcd}
\S \arrow{r} \arrow{d} & MO \arrow{d} \\
MO(1) \arrow{ru} \arrow[densely dotted]{r} & E.
\end{tikzcd}
\end{center}
The horizontal arrow across the top is the unit map for $MO$, so the long composite is the unit map for $E$, and the dotted composite is the desired factorization of the unit.  In terms of cohomology classes, the Thom isomorphism gives \[E^* \RP^\infty \cong \widetilde E^* MO(1).\]  The left--hand group has the canonical element ``$1$'', and the data of ``$\cong$'' is the Thom isomorphism, sending $1$ to a canonical map $MO(1) \to E$.  This, too, is the dotted arrow.\todo{Can this all be phrased more clearly?}

Remembering that $MO(1) \simeq \Susp^{-1} \Susp^\infty \RP^\infty$, we see that this was what powered our computation of $H\F_2^* \RP^\infty$ from earlier, and in fact this map $MO(1) \to E$ is enough to deduce an Thom isomorphism in $E$--cohomology for $MO(1)$ alone.  The other direction of the proof then sounds more serious: we have to show that if we have a Thom isomorphism for the bundle involved in forming $MO(1)$, then we can extract from that compatible Thom isomorphisms for all bundles.  This kind of reduction is famous enough to have a name: it is called ``the splitting principle''.

\todo{Keep talking.}

------

be sure to talk about the total chern class $c_{\mathbf t}$:
\begin{definition}
There is a sequence of characteristic classes $c_\alpha(E)$ wrapping into $c_{\mathbf t}(E) = \sum_{\alpha} \mathbf t^\alpha c_\alpha(E)$ satisfying
\begin{align*}
c_{\mathbf t}(E \oplus E') & = c_{\mathbf t}(E) \cdot c_{\mathbf t}(E'), \\
c_{\mathbf t}(\L) & = \sum_{j=0}^\infty t_j e(\L)^j, \\
c_{\mathbf t}(E) & = \operatorname{Norm}\left( \sum_{j \ge 0} t_j e(\mathcal O(1))^j \right),
\end{align*}
where ``$\operatorname{Norm}(\alpha)$'' denotes the determinant of multiplication by $\alpha$, which is well-defined since $U^*(\P E)[\mathbf t]$ is a finite dimensional module over $U^*(X)[\mathbf t]$.
\end{definition}









\subsection*{Quillen's theorem}

--- we don't have this language yet ---

Today we will give an analysis of $\context{MU}$, due to Quillen.

\begin{theorem}[Quillen]
There are isomorphisms
\begin{align*}
\Spec MU_* & \to \moduli{fgl}, \\
\Spec MU_* MU & \to \moduli{fgl} \times \moduli{ps}^{\gpd}, \\
\context{MU} & \to \left. \left. \moduli{fgl} \middle/\!\!\!\middle/ \left( \moduli{fgl} \times \moduli{ps}^{\gpd} \right) = \moduli{fg} \right. \right. . \qed
\end{align*}
\end{theorem}

Q: Once you know that $MU$ has the universal formal group law on it, does the description of $MU_* MU$ follow immediately from evenness?  Probably?

--- here's some of the real proof ---

Need to talk about power operations and the construction of the Steenrod operations for a sufficiently geometric cohomology theory

Need to talk about Gysin pushforwards in complex bordism and in ordinary cohomology.  Compare these with the theory of Thom isomorphism in general.  They're equivalent, right?  A complex orientation makes proper maps induce shriek maps, and shriek maps can be used to deduce what Chern classes are by push-pull: if $\zeta: X \to E$ is the zero section of a complex bundle $\xi$, then $e(\xi) = i^* i_*(1)$ I think.

Need to talk about characteristic classes and the $c_{\mathbf t}(x) = \sum_\alpha c_\alpha(x) \cdot \mathbf t^\alpha$ ``total Chern class''.  This will be hard, since you want to talk about Chern classes way later.  Maybe you'll just have to do it now\ldots

\begin{definition}
Using complex oriented maps $Z \to X$ of complex manifolds to model complex cobordism cocycles, pullback along a map is given by transverse perturbation and categorical pullback / intersection, and pushforward along a \emph{proper} map is given by postcomposition.
\end{definition}

\begin{definition}\todo{Where do these even come from? Ask Mike. Or look at Buchstaber's papers on infinitesimal flows\ldots}
Let $f: Z \to X$ be a complex-oriented map of even dimension and whose orientation is represented by a factorization of an embedding $i$ into a complex vector bundle \[Z \xrightarrow i E \to X\] with complex normal bundle $\nu_i$.  Then, setting $\nu_f = f^* E - \nu_i \in K(Z)$, the \textit{Landweber--Novikov operations} \[s_{\mathbf t} = \sum_\alpha \mathbf t^\alpha s_\alpha: U^*(X) \to U^*(X)[\mathbf t]\] are defined by \[s_{\mathbf t}(f_* 1) = f_* c_{\mathbf t}(\nu_f),\] or more generally \[s_{\mathbf t}(f_* x) = f_*(c_{\mathbf t}(\nu_f) \cdot s_{\mathbf t}(x)).\]
\end{definition}

\begin{theorem}\todo{You really need these Riemann--Roch formulas.  Where do they come from?}
Let $f: Z \to X$ be a $G$--map and let $z \in h(Z)$.  Then there is the square
\begin{center}
\begin{tikzcd}
Z^G \arrow{r}{r_Z} \arrow{d}{f^G} & Z \arrow{d}{f} \\
X^G \arrow{r}{r_X} & X
\end{tikzcd}
\end{center}
and corresponding push-pull formula \[e(\mu(E)) \cdot r_X^* f_* z = f^G_*(e(\mu_i) \cdot r_Z^* z).\]
\end{theorem}
\begin{proof}
This is 3.8. I'm not even sure what $\mu(E)$ means. In 3.4-6, they talk about the case of an inclusion, and there $\mu_i$ denotes the part of a certain $G$--equivariant vector bundle that has nontrivial $G$--action.  (I think maybe he defines $\mu_i$ and $\mu_f$, labeled by maps $i$ and $f$, and since the projection map from $E$ doesn't have a name he just calls it $\mu(E)$ instead?  That's silly.)
\end{proof}

\begin{theorem}
Suppose $G$ acts transitively on $\{1, \ldots, k\}$ and let $\rho$ denote the corresponding representation of $G$ on the subspace of $(z_1, \ldots, z_k)$ in $\C^k$ such that $\sum_i z_i = 0$ and $G$ permutes the coordinates.  Suppose $f: Z \to X$ is a proper complex-oriented map of dimension $2q$ and that $m$ is an integer larger than the dimension of $Z$, so that $m \eps + \nu_f$ is a vector bundle over $Z$, well-defined up to isomorphism, where $\eps$ is the trivial complex line bundle.  Then in $h^{2m(k-1) - 2qk}(X)$ we have \[e(\rho)^m P(f_* 1) = f_* e(\rho \otimes (m \eps + \nu_f)).\]
\end{theorem}
\begin{proof}
This is 3.12.  It follows from letting $G$ act on $f^{\times k}: Z^{\times k} \to X^{\times k}$ and using the push-pull formula for the invariant spaces (which are $Z$ and $X$) sitting inside of $Z^{\times k}$ and $X^{\times k}$: $P(f_* 1) = \Delta^* f^{\times k}_* 1$.
\end{proof}

\begin{definition}
Let $f: Z \to X$ represent a complex-oriented cobordism class, and let $\L$ be any line bundle over $Z$ on which $G$ acts trivially.  Then:
\begin{align*}
e(\rho \otimes \L) & = e \left( \bigoplus_{i=1}^{k-1} \eta^i \otimes \L \right) \\
& = \prod_{i=1}^{k-1} e(\eta^i \otimes \L) \\
& = \prod_{i=1}^{k-1} \left( [i]_F(v) +_F e(\L) \right) \\
& = w + \sum_{j \ge 1} a_j(v) e(\L)^j.
\end{align*}
The series $a_j(T) \in C\llbracket T \rrbracket$ are defined by this last relation.  We also have \[w = e(\rho) = (k-1)! v^{k-1} + \sum_{j \ge k} b_j v^j\] with $b_j \in C$.  More generally, if $E$ is any vector bundle over $Z$ on which $G$ acts trivially, then \[e(\rho \otimes E) = \sum_{|\alpha| \le r} w^{r - |\alpha|} (a(v))^\alpha c_\alpha(E).\]
\end{definition}
\begin{proof}
This is the discussion around 3.16.
\end{proof}

\begin{theorem}
Let $Q \to B$ be a principal $\Z/k$--bundle and let \[P: U^{-2q}(X) \to U^{-2qk}(B \times X)\] be the $k${\th} Steenrod power operation. Let $v$ be the Euler class of the line bundle on $B$ given by tensoring $Q$ over the character $\Z/k \cong U^1[k] \subseteq U^1$, and let $w$ be the Euler class of the bundle similarly induced from $Q$ by the reduced regular representation $\rho$.  Then, the Steenrod operation entwined with $Q$ is related to the Landweber--Novikov operations by the formula \[w^{n+q} P(x) = \sum_{|a| \le n} w^{n - |\alpha|} a(v)^\alpha s_\alpha(x),\] where $n \gg 0$ and the $a_j(T)$ are power series given above with coefficients in the subring $C$ generated by the coefficients of the standard formal group law on $U^*$.
\end{theorem}
\begin{proof}
This is 3.17.
\end{proof}

\begin{theorem}
If $X$ is finite, then
\begin{align*}
U^*(X) & = C \cdot \sum_{q \ge 0} U^q(X), \\
\widetilde U^*(X) & = C \cdot \sum_{q > 0} U^q(X),
\end{align*}
where $C$ is the subring of $U^*(*)$ generated by the coefficients of the canonical formal group law.
\end{theorem}
\begin{proof}
This is 5.1 in Quillen's paper. Use induction and the Landweber--Novikov--Steenrod relationship.  It's the nicest result in the whole thing.  The point is that if you apply the $p$th power operation to a class in nonzero degree, then up to filtration it acts like the identity but also there's a formula in terms of lower classes and the Landweber--Novikov power series, and this reduction to lower classes lets you power an induction.
\end{proof}

\begin{corollary}
$U^{ev}(*) = C$ and $U^{odd}) = 0$. \qed
\end{corollary}

\begin{definition}(6.2)
Let $\eps: U^*(X) \to H^*(X)$ be the reduction map and let the Boardman map $\beta: U^*(X) \to H^*(X)[\mathbf t]$ define Gysin maps in ordinary cohomology by $\beta = \eps \circ s_{\mathbf t}$ and hence for a proper complex oriented map $f: Z \to X$: \[\beta(f_* z) = f_*(c_{\mathbf t}^H(\nu_f) \cdot \beta z).\] 
\end{definition}

\begin{definition}
It follows that \[\beta e^U(\L) = \sum_{j \ge 0} t_j(e^J(\L))^{j+1}\] so setting \[\theta_{\mathbf t}(T) = \sum_{j \ge 0} t_j T^{j+1}\] we have \[(\beta \otimes^*)(\theta_{\mathbf t}(T_1), \theta_{\mathbf t}(T_2)) = \theta_{\mathbf t}(T_1 + T_2).\]  It further follows that there are ring homomorphisms
\begin{center}
\begin{tikzcd}
L \arrow{r}{\delta} & U^*(*) \arrow{r}{\beta} & \Z[t] \\
F_{univ} \arrow[|->]{r} & F \arrow[|->]{r} & \theta_{\mathbf t}^*(T_1 + T_2),
\end{tikzcd}
\end{center}
where ``$\theta_{\mathbf t}^*$'' denotes conjugation by a power series.
\end{definition}

\begin{theorem}
The homomorphism $\delta$ is an isomorphism and the homomorphism $\beta$ is injective.
\end{theorem}
\begin{proof}
We know that $\delta$ is surjective by the arguments about the subring $C$.  On the other hand, the rational composite $\Q \otimes (\beta \circ \delta)$ induces an isomorphism $\Q \otimes L \to \Q[\mathbf t]$ using the logarithm.  By Lazard's theorem, $L$ is torsion-free, so $\beta \circ \delta$ is injective.  The conclusion follows.
\end{proof}


\subsection*{Lazard's theorem}

This should have a clever ``The structure of $\moduli{fg}$'' name.
